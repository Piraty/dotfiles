#!/bin/bash
# ex FILE - extract a compressed file

shopt -s extglob

if [ -f $1 ]; then
	case $1 in
		*.bz2) bunzip $1;;
		*.gz) gunzip $1;;
		*.rar) unrar $1;;
		*.tar) tar xvf $1;;
		*.tar.@(bz2|gz|xz|lzma)) tar -xavf $1;;
		*.tbz2) tar xvjf $1;;
		*.tgz) tar xvzf $1;;
		*.xz) xz -d $1;;
		*.zip) unzip $1;;
		*.zst) zstd -d $1;;
		*.Z) uncompress $1;;
		*.7z) 7z x $1;;
		*) echo "'$1' cannot be extracted via >ex<";;
	esac
else
	echo "'$1' is not a valid file"
fi
